<!DOCTYPE html>{% load i18n static material_site %}
<html lang="en" class="mdc-typography">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  {% block favicon %}<link rel="icon" href="{% static 'material/favicon.png' %}" type="image/png" />{% endblock %}
  {% block turbolinks-cache-control %}<meta name="turbolinks-cache-control" content="no-cache">{% endblock %}
  <title>{% block title %}Django Material{% endblock %}</title>
  {% block css %}{% include 'material/includes/material_css.html' %}{% block theme %}{% endblock %}{% endblock css %}
  {% block js %}
    {% url 'javascript-catalog' as javascript_catalog_url %}{% if javascript_catalog_url %}<script type="text/javascript" src="{{ javascript_catalog_url }}"></script>{% endif %}
    {% include 'material/includes/material_js.html' %}
  {% endblock js %}
  {% block extrahead %}{% endblock %}
</head>

<body class="mdc-typography" data-controller="dmc-scroll-lock-fix">{% block body %}
  <div class="dmc-page">
    {% with site=request.resolver_match.site app=request.resolver_match.app %}
    <aside id="id_site_drawer" class="mdc-drawer dmc-drawer dmc-page__drawer mdc-drawer--persistent" data-controller="dmc-drawer">
      <nav class="mdc-drawer__drawer">
        <header class="dmc-drawer-header mdc-drawer__header">
          <div class="mdc-drawer__header-content">
            {% block sidebar-header %}
            <div class="dmc-drawer-header__content">
                {% block sidebar-avatar-image %}
                <img class="dmc-drawer-header__avatar" src="{{ request.user|_user_avatar_url }}">
                {% endblock %}
                <div class="dmc-drawer-header__info">
                  <div class="dmc-drawer-header__user">
                    {% block user-info %}
                    <div class="dmc-drawer-header__title">
                      {{ request.user.get_full_name|default:request.user.get_username }}
                    </div>
                    {% if request.user.email != request.user.get_username %}
                    <div class="dmc-drawer-header__subtitle">{{ request.user.email}}</div>
                    {% endif %} {% endblock %}
                  </div>
                  <div class="dmc-drawer-header__menu">
                    <button class="mdc-button dmc-drawer-header__menu-button" data-action="dmc-drawer#toggleUserMenu">
                      <i class="material-icons">arrow_drop_down</i>
                    </button>
                  </div>
                </div>
              </div>
              {% endblock sidebar-header %}
          </div>
        </header>
        <nav class="mdc-drawer__content mdc-list" id="id_site_drawer_menu" data-target="dmc-drawer.content">
          <div class="dmc-drawer__primary-content">
            {% block sidebar-app-menu %}
            {% if app %}{% include app.menu_template_name with app=app %}{% endif %}
            {% if site %}{% include site.menu_template_name with site=site user=request.user only %}{% endif %}
            {% endblock %}
          </div>
          <div class="dmc-drawer__secondary-content">
              {% block sidebar-user-menu %}
              <nav class="mdc-list">
                  {% block sidebar-user-menu-actions %}
                  {% url 'profile' as profile_url %}
                  {% if profile_url %}
                  <a class="mdc-list-item dmc-drawer__list-item" href="{{ profile_url }}">
                    <i class="material-icons">account_box</i> {% trans 'Profile' %}
                  </a>
                  {% endif %}
                  {% url 'logout' as logout_url %}
                  {% if logout_url %}
                  <a class="mdc-list-item dmc-drawer__list-item" href="{{ logout_url }}">
                    <i class="material-icons">exit_to_app</i> {% trans 'Log out' %}
                  </a>
                  {% endif %}
                  {% endblock %}
                </nav>
              {% endblock sidebar-user-menu %}
          </div>
        </nav>
      </nav>
    </aside>

    <div class="dmc-page__body">
      <header class="mdc-toolbar dmc-page__toolbar">
        <div class="mdc-toolbar__row">
          <section class="mdc-toolbar__section mdc-toolbar__section--align-start">
            <a href="#"
              class="material-icons mdc-toolbar__menu-icon"
              data-controller="dmc-toggle-drawer-button"
              data-action="dmc-toggle-drawer-button#toggleDrawer"
              data-toggle-drawer-id="id_site_drawer">menu</a>
            <span class="mdc-toolbar__title">{% block page-title %}{{ app.title|default:site.title|default:"Django Material" }}{% endblock %}</span>
          </section>
        </div>
      </header>
      <main class="dmc-page__content">{% block content %}{% endblock %}</main>
    </div>
    {% endwith %}
  </div>
  {% block snackbar %}
  <div class="mdc-snackbar dmc-snackbar"
      aria-live="assertive"
      aria-atomic="true"
      aria-hidden="true"
      data-controller="dmc-snackbar">
    <div class="mdc-snackbar__text" data-target="dmc-snackbar.text">{% for message in messages %}{% if forloop.last %}{{ message }}{% endif %}{% endfor %}</div>
    <div class="mdc-snackbar__action-wrapper">
      <button type="button" class="mdc-snackbar__action-button"></button>
    </div>
  </div>
  {% endblock snackbar%}
{% endblock body %}</body>

</html>
